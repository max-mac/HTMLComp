<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link rel="stylesheet" href="../jquery.mobile.min.css" />
		<script src="../jquery.min.js"></script>
		<script>
			$(document).bind("mobileinit", function(){
				$.mobile.defaultPageTransition="none";
				$.mobile.page.prototype.options.domCache = true;
			});
			$.fn.live=function(event,handler){
				$(document).on(event,this.selector,handler);
			}
		</script>
		<script src="../jquery.mobile.min.js"></script>
		
		<link rel="stylesheet" href="../mobile-common.css" />
		<script src="../mobile-common.js"></script>

	</head>
	<body>
		<div data-role="page" id="demoPage">
			<script>
				$("#demoPage").live("pageshow",function(){
					
					initSlider({
						id:"mySlider",
						onSlide:function(index){
							
						}
					});

				});
				function initSlider(option){
					var $wrapper=$("#"+option.id).addClass("jszx-wrapper");
					var $scroller=$("<div class='jszx-scroller'></div>").appendTo($wrapper);
					var $slides=$wrapper.find(".slide").appendTo($scroller);
					
					$slides.width(window.innerWidth);
					$scroller.width(window.innerWidth*$slides.length);
					
					var offset=0;
					var index=0;
					initScroll({
						"wrapper": option.id,
						"dir": "x",
						"bounce": true,
						"scrollBar": false,
						"inertia": false,
						"touchEnd": function(x){

							if(x-offset<=-50){
								offset=offset-window.innerWidth;
								index++;
							}else if(x-offset>=50){
								offset=offset+window.innerWidth;
								index--;
							}

							$scroller[0].style.webkitTransform="translateX("+offset+"px)";
							
							option.onSlide(index);
						}
					});
				}
			</script>
			<style>
				.max-slider .slide{
					float:left;
					width:100%;
				}
			</style>
			<div class="page_header">
				<div class="page_header_title">SLIDER</div>
			</div>
			<div class="page_content">
				<div class="max-slider" id="mySlider">
					<div class="slide">1</div>
					<div class="slide">2</div>
					<div class="slide">3</div>
				</div>
			</div>
		</div>
	</body>
</html>